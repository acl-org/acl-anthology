{{ define "meta" }}
<meta name="robots" content="noindex, nofollow">
{{ end }}

{{ define "main" }}
<main aria-role="main">
  <button class="btn btn-info float-right" type="button" data-toggle="collapse" data-target="#collapseHelp" aria-expanded="false" aria-controls="collapseHelp">
    <i class="fas fa-info-circle me-2"></i>How does the search work?
  </button>
  <h2 id="title">{{ .Title }}</h2>
  <hr />

  <div class="collapse" id="collapseHelp">
    <div class="card bg-light">
      <div class="card-body">
        <h5 class="card-title">How does the search work?</h5>
        <p class="card-text">The search results you see here are provided by <a href="https://developers.google.com/custom-search/">Google Custom Search.</a>  As such, they rely on Google having indexed our pages; this means that pages that have recently been added or changed might not be accurately represented in the search results until Google's crawler indexes them.</p>
        <hr />
        <h5 class="card-title">What do the different tabs mean?</h5>
        <p class="card-text">By default, the search is performed on “All” Anthology content, which includes searching in PDFs hosted by the Anthology.  By clicking on another tab, you can restrict the search to certain parts of the website:
          <ul>
            <li>“Authors” restricts the search to author pages.  For example, <a href="{{ "/people/m/matt-post/" | relURL }}">“Matt Post”</a> is an author page.</li>
            <li>“Events” restricts the search to event pages.  For example, <a href="{{ "/events/acl-2018" | relURL }}">“ACL 2018”</a> is an event page.</li>
            <li>“Paper Metadata” restricts the search to pages for specific papers.  For example, <a href="{{ "/papers/P/P02/P02-1040/" | relURL }}">P02-1040</a> is a paper page.  (Most notably, this does <em>not</em> search in PDFs.)</li>
          </ul>
          Note that this will still find <em>any</em> string that appears on such a page; it is not currently possible to search only within certain fields, such as author names or venue names.
        </p>
        <hr />
        <h5 class="card-title">What do the sorting options mean?</h5>
        <p class="card-text">By default, search results are sorted by “Relevance”, which is Google's algorithm deciding what the best results for your query are.  Additionally, you can sort by “Year of Publication”, which will show only papers and PDFs, listing the newest papers first.</p>
      </div>
    </div>
  </div>

  <div>
    <script> // Google Custom Search code
      (function() {
          var cx = '000299513257099441687:fkkgoogvtaw';
          var gcse = document.createElement('script');
          gcse.type = 'text/javascript';
          gcse.async = true;
          gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
          var s = document.getElementsByTagName('script')[0];
          s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchresults-only personalizedAds="false"></gcse:searchresults-only>
  </div>
</main>
{{ end }}

{{ define "javascript" }}
<script>
  $(function () {
      var p = new URLSearchParams(window.location.search);
      if (p.has("q")) {
          $("#acl-search-box").val(p.get("q")).focus().select();
      }
  })
</script>
{{ end }}
